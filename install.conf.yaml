- defaults:
    link:
      create: true
      relink: true
      force: true
      replace: true

- link:
    ~/.dotfiles: ''
    ~/.zsh: config/zsh/
    ~/.zshrc: config/zsh/zshrc
    ~/.zshenv: config/zsh/zshenv
    ~/.zsh_aliases: config/zsh/zsh_aliases
    ~/.oh-my-zsh/custom/themes: oh-my-zsh/custom/themes/
    ~/.oh-my-zsh/custom/plugins: oh-my-zsh/custom/plugins/
    ~/.config/fish/config.fish : config/fish/config.fish
    ~/.bashrc: bashrc
    ~/.bash_profile: bash_profile
    ~/.gitconfig:
      path:       gitfiles/gitconfig
      backup:     ./backup
    ~/.gitignore_global:
      path:       gitfiles/gitignore_global
      backup:     ./backup
    ~/.gitconfig.local: gitfiles/gitconfig.local
    ~/bin:
      path:       bin/
      backup:     ./backup

- clean: ['~']

- shell:
  - ["mkdir -p ~/.config/fish ~/.zsh ~/.oh-my-zsh/custom/themes", "Checking folder structure exists"]
  - [git submodule update --init --recursive, Installing submodules]
  - [git submodule foreach git pull origin master, Updating submodules]
