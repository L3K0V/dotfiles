- defaults:
    link:
      create: true
      relink: true
      force: true
      replace: true

- link:
    ~/.dotfiles: ''
    ~/.zshrc:             .zshrc
    ~/.bashrc:            .bashrc
    ~/.bash_aliases:      .bash_aliases
    ~/.bash_profile:      .bash_profile
    ~/.gitconfig:         .gitconfig
    ~/.gitignore_global:  .gitignore_global
    ~/bin:
      path:       bin/
      backup:     ./backup

- clean: ['~']

- shell:
  - ["mkdir -p  ~/.zsh", "Checking folder structure exists"]
  - [git submodule update --init --recursive, Installing submodules]
  - [git submodule foreach git pull origin master, Updating submodules]
